<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Mar 19 13:05:23 WET 2016 -->
<title>Auction</title>
<meta name="date" content="2016-03-19">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Auction";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/edg/data/replication/optorsim/auctions/AnnounceMessage.html" title="class in org.edg.data.replication.optorsim.auctions"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/edg/data/replication/optorsim/auctions/Auction.html" target="_top">Frames</a></li>
<li><a href="Auction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.edg.data.replication.optorsim.auctions</div>
<h2 title="Class Auction" class="title">Class Auction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.edg.data.replication.optorsim.auctions.Auction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Auction</span>
extends java.lang.Object</pre>
<div class="block">Auction threads form a pool of threads and sleep when they are not being
 used. If all threads in the pool are currently in use, a new one is created.
 <p>
 An auction is used by an <a href="../../../../../../org/edg/data/replication/optorsim/auctions/AccessMediator.html" title="class in org.edg.data.replication.optorsim.auctions"><code>AccessMediator</code></a> when it wants to find
 a file for a ComputingElement or a <a href="../../../../../../org/edg/data/replication/optorsim/auctions/StorageBroker.html" title="class in org.edg.data.replication.optorsim.auctions"><code>StorageBroker</code></a> when it
 wants to replicate a file to its <a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/StorageElement.html" title="interface in org.edg.data.replication.optorsim.infrastructure"><code>StorageElement</code></a>. The Auction runs
 as a Thread. A <a href="../../../../../../org/edg/data/replication/optorsim/auctions/BidRequestMessage.html" title="class in org.edg.data.replication.optorsim.auctions"><code>BidRequestMessage</code></a> is propogated via the P2P network
 to StorageBrokers requesting Bids for the file. The Auction sleeps until
 a specified timeout, when it opens all the Bids it has received and
 chooses the StorageBroker replying the lowest bid. Then the Auction waits
 until the remote file is ready before sending the result to the AM or SB.
 If the Auction was conducted by a StorageBroker it replicates the file
 and then sends a ReplicaReadyMessage back to the SB.
 <p>
 Copyright (c) 2002 CERN, ITC-irst, PPARC, on behalf of the EU DataGrid.
 For license conditions see LICENSE file or
 <a href="http://www.edg.org/license.html">http://www.edg.org/license.html</a>
 <p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>JDK1.4</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#MAX_NESTING_LEVEL">MAX_NESTING_LEVEL</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#Auction(java.lang.String,%20org.edg.data.replication.optorsim.auctions.Auctioneer,%20int)">Auction</a></strong>(java.lang.String&nbsp;lfn,
       <a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions">Auctioneer</a>&nbsp;auctioneer,
       int&nbsp;nestingLevel)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#addBid(org.edg.data.replication.optorsim.auctions.Bid)">addBid</a></strong>(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/Bid.html" title="class in org.edg.data.replication.optorsim.auctions">Bid</a>&nbsp;bid)</code>
<div class="block">The bid reply message handler calls addBid(), which
 records the bids received.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#assignRFDSH(org.edg.data.replication.optorsim.auctions.RFDStatusHandler)">assignRFDSH</a></strong>(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/RFDStatusHandler.html" title="class in org.edg.data.replication.optorsim.auctions">RFDStatusHandler</a>&nbsp;rfdStatusHandler)</code>
<div class="block">Assign a RFDStatusHandler, which handles the 
 status of the Ready For Download message, to this auction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#doAuction()">doAuction</a></strong>()</code>
<div class="block">Process the auction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions">Auctioneer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#getAuctioneer()">getAuctioneer</a></strong>()</code>
<div class="block">Get the auctioneer (either an SB or an AM) for this auction</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#getLFN()">getLFN</a></strong>()</code>
<div class="block">The name of the file the auction is for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#getNestingLevel()">getNestingLevel</a></strong>()</code>
<div class="block">Return the nesting level of this auction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#getSampleDataFile()">getSampleDataFile</a></strong>()</code>
<div class="block">Get a sample DataFile.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#getWinningFile()">getWinningFile</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#receiveRFDMessage(org.edg.data.replication.optorsim.auctions.ReadyForDownloadMessage)">receiveRFDMessage</a></strong>(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/ReadyForDownloadMessage.html" title="class in org.edg.data.replication.optorsim.auctions">ReadyForDownloadMessage</a>&nbsp;msg)</code>
<div class="block">Called when the file is ready at the winning SB</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#setIsReplicating(org.edg.data.replication.optorsim.infrastructure.StorageElement)">setIsReplicating</a></strong>(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/StorageElement.html" title="interface in org.edg.data.replication.optorsim.infrastructure">StorageElement</a>&nbsp;se)</code>
<div class="block">Set the state of this auction to Replicating.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auction.html#toString()">toString</a></strong>()</code>
<div class="block">Returns the name of this auction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_NESTING_LEVEL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_NESTING_LEVEL</h4>
<pre>public static final&nbsp;int MAX_NESTING_LEVEL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.edg.data.replication.optorsim.auctions.Auction.MAX_NESTING_LEVEL">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Auction(java.lang.String, org.edg.data.replication.optorsim.auctions.Auctioneer, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Auction</h4>
<pre>public&nbsp;Auction(java.lang.String&nbsp;lfn,
       <a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions">Auctioneer</a>&nbsp;auctioneer,
       int&nbsp;nestingLevel)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns the name of this auction.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="doAuction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAuction</h4>
<pre>public&nbsp;void&nbsp;doAuction()</pre>
<div class="block">Process the auction.</div>
</li>
</ul>
<a name="addBid(org.edg.data.replication.optorsim.auctions.Bid)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBid</h4>
<pre>public&nbsp;void&nbsp;addBid(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/Bid.html" title="class in org.edg.data.replication.optorsim.auctions">Bid</a>&nbsp;bid)</pre>
<div class="block">The bid reply message handler calls addBid(), which
 records the bids received.</div>
</li>
</ul>
<a name="receiveRFDMessage(org.edg.data.replication.optorsim.auctions.ReadyForDownloadMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveRFDMessage</h4>
<pre>public&nbsp;void&nbsp;receiveRFDMessage(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/ReadyForDownloadMessage.html" title="class in org.edg.data.replication.optorsim.auctions">ReadyForDownloadMessage</a>&nbsp;msg)</pre>
<div class="block">Called when the file is ready at the winning SB</div>
</li>
</ul>
<a name="getLFN()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLFN</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLFN()</pre>
<div class="block">The name of the file the auction is for. Use getWinningFileName()
 to get the FileName object of the winning file.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The LFN which is being auctioned for.</dd></dl>
</li>
</ul>
<a name="getWinningFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWinningFile</h4>
<pre>public&nbsp;<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>&nbsp;getWinningFile()</pre>
</li>
</ul>
<a name="getSampleDataFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSampleDataFile</h4>
<pre>public&nbsp;<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>&nbsp;getSampleDataFile()</pre>
<div class="block">Get a sample DataFile.  This allows any metadata stored in the DataFile
 to be recovered</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A DataFile that would satisfy the auction</dd></dl>
</li>
</ul>
<a name="getAuctioneer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuctioneer</h4>
<pre>public&nbsp;<a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions">Auctioneer</a>&nbsp;getAuctioneer()</pre>
<div class="block">Get the auctioneer (either an SB or an AM) for this auction</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Auctioneer conducting the Auction.</dd></dl>
</li>
</ul>
<a name="getNestingLevel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNestingLevel</h4>
<pre>public&nbsp;int&nbsp;getNestingLevel()</pre>
<div class="block">Return the nesting level of this auction.</div>
</li>
</ul>
<a name="setIsReplicating(org.edg.data.replication.optorsim.infrastructure.StorageElement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIsReplicating</h4>
<pre>public&nbsp;void&nbsp;setIsReplicating(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/StorageElement.html" title="interface in org.edg.data.replication.optorsim.infrastructure">StorageElement</a>&nbsp;se)</pre>
<div class="block">Set the state of this auction to Replicating.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>se</code> - The StorageElement to which the file is being replicated.</dd></dl>
</li>
</ul>
<a name="assignRFDSH(org.edg.data.replication.optorsim.auctions.RFDStatusHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>assignRFDSH</h4>
<pre>protected&nbsp;void&nbsp;assignRFDSH(<a href="../../../../../../org/edg/data/replication/optorsim/auctions/RFDStatusHandler.html" title="class in org.edg.data.replication.optorsim.auctions">RFDStatusHandler</a>&nbsp;rfdStatusHandler)</pre>
<div class="block">Assign a RFDStatusHandler, which handles the 
 status of the Ready For Download message, to this auction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rfdStatusHandler</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/edg/data/replication/optorsim/auctions/AnnounceMessage.html" title="class in org.edg.data.replication.optorsim.auctions"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/edg/data/replication/optorsim/auctions/Auctioneer.html" title="interface in org.edg.data.replication.optorsim.auctions"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/edg/data/replication/optorsim/auctions/Auction.html" target="_top">Frames</a></li>
<li><a href="Auction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
