<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Wed Sep 14 13:39:03 WAT 2016 -->
<title>ReplicatingOptimiser</title>
<meta name="date" content="2016-09-14">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReplicatingOptimiser";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/edg/data/replication/optorsim/optor/OptimiserFactory.html" title="class in org.edg.data.replication.optorsim.optor"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/edg/data/replication/optorsim/optor/SimpleOptimiser.html" title="class in org.edg.data.replication.optorsim.optor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/edg/data/replication/optorsim/optor/ReplicatingOptimiser.html" target="_top">Frames</a></li>
<li><a href="ReplicatingOptimiser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.edg.data.replication.optorsim.optor.SkelOptor">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.edg.data.replication.optorsim.optor</div>
<h2 title="Class ReplicatingOptimiser" class="title">Class ReplicatingOptimiser</h2>
<!-- UML diagram added by UMLGraph version R5_7_2-3-gee82a7 (http://www.umlgraph.org/) -->
<div align="center"><img src="ReplicatingOptimiser.png" alt="Package class diagram package ReplicatingOptimiser" usemap="#G" border=0/></div>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html" title="class in org.edg.data.replication.optorsim.optor">org.edg.data.replication.optorsim.optor.SkelOptor</a></li>
<li>
<ul class="inheritance">
<li>org.edg.data.replication.optorsim.optor.ReplicatingOptimiser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/edg/data/replication/optorsim/optor/Optimisable.html" title="interface in org.edg.data.replication.optorsim.optor">Optimisable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../org/edg/data/replication/optorsim/optor/EconomicModelOptimiser.html" title="class in org.edg.data.replication.optorsim.optor">EconomicModelOptimiser</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/LfuOptimiser.html" title="class in org.edg.data.replication.optorsim.optor">LfuOptimiser</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/LruOptimiser.html" title="class in org.edg.data.replication.optorsim.optor">LruOptimiser</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/TriAROptimiser.html" title="class in org.edg.data.replication.optorsim.optor">TriAROptimiser</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ReplicatingOptimiser</span>
extends <a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html" title="class in org.edg.data.replication.optorsim.optor">SkelOptor</a></pre>
<div class="block">This optimiser provides an implementation of getBestFile()
 which will attempt to perform replication of files to the close Storage
 Element of the Computing Element calling it (if the file is not already
 available there). If there is space on the close SE replcation will
 always suceed. If there is no space the chooseFileToDelete() method
 of the subclass is called to determine which files should be removed
 to create space. The implementation of this method should be such that
 it returns a null value if replication is not to take place, for example
 if all the files on the local SE are master files or the optimsation
 algorithm decides it is not worthwhile to replicate.
 <p>
 Copyright (c) 2004 CERN, ITC-irst, PPARC, on behalf of the EU DataGrid.
 For license conditions see LICENSE file or
 <a href="http://www.edg.org/license.html">http://www.edg.org/license.html</a>
 <p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>JDK1.4</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.edg.data.replication.optorsim.optor.SkelOptor">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.edg.data.replication.optorsim.optor.<a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html" title="class in org.edg.data.replication.optorsim.optor">SkelOptor</a></h3>
<code><a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#Z:Z_networkClient">_networkClient</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#Z:Z_site">_site</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/edg/data/replication/optorsim/optor/ReplicatingOptimiser.html#ReplicatingOptimiser-org.edg.data.replication.optorsim.infrastructure.GridSite-">ReplicatingOptimiser</a></span>(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/GridSite.html" title="class in org.edg.data.replication.optorsim.infrastructure">GridSite</a>&nbsp;site)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected abstract java.util.List</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/edg/data/replication/optorsim/optor/ReplicatingOptimiser.html#chooseFilesToDelete-org.edg.data.replication.optorsim.infrastructure.DataFile-org.edg.data.replication.optorsim.infrastructure.StorageElement-">chooseFilesToDelete</a></span>(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>&nbsp;file,
                   <a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/StorageElement.html" title="interface in org.edg.data.replication.optorsim.infrastructure">StorageElement</a>&nbsp;se)</code>
<div class="block">How to decide which files to delete in order to make space for DataFile file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/edg/data/replication/optorsim/optor/ReplicatingOptimiser.html#getBestFile-java.lang.String:A-float:A-">getBestFile</a></span>(java.lang.String[]&nbsp;lfns,
           float[]&nbsp;fileFraction)</code>
<div class="block">Always tries to replicate all the files specified by lfns to
 the calling Computing Element's local Storage Element.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.edg.data.replication.optorsim.optor.SkelOptor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.edg.data.replication.optorsim.optor.<a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html" title="class in org.edg.data.replication.optorsim.optor">SkelOptor</a></h3>
<code><a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#cancelFilePrefetch-java.lang.String:A-org.edg.data.replication.optorsim.infrastructure.ComputingElement-">cancelFilePrefetch</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#getAccessCost-java.lang.String:A-org.edg.data.replication.optorsim.infrastructure.ComputingElement-float:A-">getAccessCost</a>, <a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#initFilePrefetch-java.lang.String:A-org.edg.data.replication.optorsim.infrastructure.ComputingElement-">initFilePrefetch</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReplicatingOptimiser-org.edg.data.replication.optorsim.infrastructure.GridSite-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplicatingOptimiser</h4>
<pre>public&nbsp;ReplicatingOptimiser(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/GridSite.html" title="class in org.edg.data.replication.optorsim.infrastructure">GridSite</a>&nbsp;site)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getBestFile-java.lang.String:A-float:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestFile</h4>
<pre>public&nbsp;<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>[]&nbsp;getBestFile(java.lang.String[]&nbsp;lfns,
                              float[]&nbsp;fileFraction)</pre>
<div class="block">Always tries to replicate all the files specified by lfns to
 the calling Computing Element's local Storage Element.
 Replication will fail if a null is returned by the subclass'
 chooseFileToDelete method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/edg/data/replication/optorsim/optor/Optimisable.html#getBestFile-java.lang.String:A-float:A-">getBestFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/edg/data/replication/optorsim/optor/Optimisable.html" title="interface in org.edg.data.replication.optorsim.optor">Optimisable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html#getBestFile-java.lang.String:A-float:A-">getBestFile</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/edg/data/replication/optorsim/optor/SkelOptor.html" title="class in org.edg.data.replication.optorsim.optor">SkelOptor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lfns</code> - The name of the files the CE needs to access.</dd>
<dd><code>fileFraction</code> - The fraction of each file the CE uses.
 This can be important in deciding whether it is better to
 replicate a file or read it remotely.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The DataFiles the CE will access.</dd>
</dl>
</li>
</ul>
<a name="chooseFilesToDelete-org.edg.data.replication.optorsim.infrastructure.DataFile-org.edg.data.replication.optorsim.infrastructure.StorageElement-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>chooseFilesToDelete</h4>
<pre>protected abstract&nbsp;java.util.List&nbsp;chooseFilesToDelete(<a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/DataFile.html" title="class in org.edg.data.replication.optorsim.infrastructure">DataFile</a>&nbsp;file,
                                                      <a href="../../../../../../org/edg/data/replication/optorsim/infrastructure/StorageElement.html" title="interface in org.edg.data.replication.optorsim.infrastructure">StorageElement</a>&nbsp;se)</pre>
<div class="block">How to decide which files to delete in order to make space for DataFile file.
 All subclasses must implement this using their own optimiser specific algorithms.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - The file we wish to replicate</dd>
<dd><code>se</code> - The SE onto which file is to be replicated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the files in se to delete, or null if replication isn't to take place</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/edg/data/replication/optorsim/optor/OptimiserFactory.html" title="class in org.edg.data.replication.optorsim.optor"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/edg/data/replication/optorsim/optor/SimpleOptimiser.html" title="class in org.edg.data.replication.optorsim.optor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/edg/data/replication/optorsim/optor/ReplicatingOptimiser.html" target="_top">Frames</a></li>
<li><a href="ReplicatingOptimiser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.org.edg.data.replication.optorsim.optor.SkelOptor">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
